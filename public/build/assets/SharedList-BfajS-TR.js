import{_ as m,a as y}from"./TaskInput.vue_vue_type_script_setup_true_lang-CkCGCcNg.js";import{C as b,k as w,o as s,f as n,a as l,u as r,b as c,c as d,w as u,F as h,g as f,t as F,D as B,Z as D,d as k,j as g}from"./app-BSXN3FZM.js";const L={class:"container mx-auto"},_={key:0,class:"flex justify-end flex-1 -mx-3"},T={class:""},N={key:0,class:"grid grid-cols-1 space-y-2"},j={__name:"SharedList",props:{canLogin:{type:Boolean},canRegister:{type:Boolean},list:{type:Object}},setup(a){const o=a,t=b([]);w(()=>{o.list&&o.list.tasks.length>0&&o.list.tasks.forEach(e=>{t.push(e)})});async function x(e){t.splice(0,t.length);try{const i=await axios.get("/list/"+e);i.data.tasks&&t.push(...i.data.tasks)}catch{console.log("creating a new one")}}function v(e){t.push(e)}return(e,i)=>(s(),n(h,null,[l(r(D),{title:"Welcome"}),c("div",L,[a.canLogin?(s(),n("nav",_,[e.$page.props.auth.user?(s(),d(r(g),{key:0,href:e.route("dashboard"),class:"rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white"},{default:u(()=>[k(" Dashboard ")]),_:1},8,["href"])):(s(),n(h,{key:1},[l(r(g),{href:e.route("login"),class:"rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white"},{default:u(()=>[k(" Log in ")]),_:1},8,["href"]),a.canRegister?(s(),d(r(g),{key:0,href:e.route("register"),class:"rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white"},{default:u(()=>[k(" Register ")]),_:1},8,["href"])):f("",!0)],64))])):f("",!0),c("div",null,"Reference: "+F(a.list.id),1),c("div",T,[l(m,{"list-id":a.list.id,onTaskAdded:v},null,8,["list-id"]),t&&t.length>0?(s(),n("div",N,[(s(!0),n(h,null,B(t,p=>(s(),d(y,{key:p.id,task:p,onTaskUpdated:i[0]||(i[0]=R=>x(a.list.id))},null,8,["task"]))),128))])):f("",!0)])])],64))}};export{j as default};
