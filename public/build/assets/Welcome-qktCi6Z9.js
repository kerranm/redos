import{G as M,E as S,o as n,f as g,b as r,a as t,w as a,u as e,c as u,j as f,g as k,r as $,k as B,C as T,m as q,F as L,Z as F,t as R,e as C,d as x,D as A}from"./app-BSXN3FZM.js";import{b as l,_ as D,a as H}from"./TaskInput.vue_vue_type_script_setup_true_lang-CkCGCcNg.js";/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":2,"stroke-linecap":"round","stroke-linejoin":"round"};/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N=d=>d.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c=(d,i)=>({size:o,strokeWidth:y=2,absoluteStrokeWidth:b,color:v,class:w,...h},{attrs:z,slots:m})=>M("svg",{..._,width:o||_.width,height:o||_.height,stroke:v||_.stroke,"stroke-width":b?Number(y)*24/Number(o):y,...z,class:["lucide",`lucide-${N(d)}`],...h},[...i.map(s=>M(...s)),...m.default?[m.default()]:[]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j=c("BookIcon",[["path",{d:"M4 19.5v-15A2.5 2.5 0 0 1 6.5 2H20v20H6.5a2.5 2.5 0 0 1 0-5H20",key:"t4utmx"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V=c("BotIcon",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U=c("CodeXmlIcon",[["path",{d:"m18 16 4-4-4-4",key:"1inbqp"}],["path",{d:"m6 8-4 4 4 4",key:"15zrgr"}],["path",{d:"m14.5 4-5 16",key:"e7oirm"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z=c("LogInIcon",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=c("RefreshCcwIcon",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=c("Settings2Icon",[["path",{d:"M20 7h-9",key:"3s1dr2"}],["path",{d:"M14 17H5",key:"gfn3mx"}],["circle",{cx:"17",cy:"17",r:"3",key:"18b49y"}],["circle",{cx:"7",cy:"7",r:"3",key:"dfmy0x"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X=c("ShareIcon",[["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["polyline",{points:"16 6 12 2 8 6",key:"m901s6"}],["line",{x1:"12",x2:"12",y1:"2",y2:"15",key:"1p0rca"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=c("SquareTerminalIcon",[["path",{d:"m7 11 2-2-2-2",key:"1lz0vl"}],["path",{d:"M11 13h4",key:"1p7l4v"}],["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=c("SquareUserIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 21v-2a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v2",key:"1m6ac2"}]]);/**
 * @license lucide-vue-next v0.370.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W=c("TriangleIcon",[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]]),J={class:"grid h-screen w-full pl-[53px]"},O={class:"fixed left-0 z-20 flex flex-col h-full border-r inset-y"},Q={class:"p-2 border-b"},Y={class:"grid gap-1 p-2"},ee={class:"grid gap-1 p-2 mt-auto"},te={class:"flex flex-col"},ae={class:"sticky top-0 z-10 flex h-[53px] items-center gap-1 border-b bg-background px-4"},se={class:"grid flex-1 gap-4 p-4 overflow-auto lg:grid-cols-1"},ie={class:"relative flex-col gap-1 md:flex"},oe=S({__name:"Layout",props:{canLogin:{type:Boolean,required:!0},canRegister:{type:Boolean,required:!0}},setup(d){return(i,o)=>(n(),g("div",J,[r("aside",O,[r("div",Q,[t(e(l),{variant:"outline",size:"icon","aria-label":"Home"},{default:a(()=>[t(e(W),{class:"size-5 fill-foreground"})]),_:1})]),r("nav",Y,[t(e(l),{variant:"ghost",size:"icon",class:"rounded-lg bg-muted","aria-label":"Playground"},{default:a(()=>[t(e(G),{class:"size-5"})]),_:1}),t(e(l),{variant:"ghost",size:"icon",class:"rounded-lg","aria-label":"Models"},{default:a(()=>[t(e(V),{class:"size-5"})]),_:1}),t(e(l),{variant:"ghost",size:"icon",class:"rounded-lg","aria-label":"API"},{default:a(()=>[t(e(U),{class:"size-5"})]),_:1}),t(e(l),{variant:"ghost",size:"icon",class:"rounded-lg","aria-label":"Documentation"},{default:a(()=>[t(e(j),{class:"size-5"})]),_:1}),t(e(l),{variant:"ghost",size:"icon",class:"rounded-lg","aria-label":"Settings"},{default:a(()=>[t(e(P),{class:"size-5"})]),_:1})]),r("nav",ee,[i.$page.props.auth.user?k("",!0):(n(),u(e(l),{key:0,"as-child":"",href:i.route("login"),variant:"ghost",size:"icon",class:"mt-auto rounded-lg","aria-label":"Login"},{default:a(()=>[t(e(f),{href:i.route("login")},{default:a(()=>[t(e(Z),{class:"size-5"})]),_:1},8,["href"])]),_:1},8,["href"])),i.$page.props.auth.user?(n(),u(e(l),{key:1,"as-child":"",variant:"ghost",size:"icon",class:"mt-auto rounded-lg","aria-label":"Account"},{default:a(()=>[t(e(f),{href:i.route("profile.edit")},{default:a(()=>[t(e(K),{class:"size-5"})]),_:1},8,["href"])]),_:1})):k("",!0)])]),r("div",te,[r("header",ae,[$(i.$slots,"header")]),r("main",se,[r("div",ie,[$(i.$slots,"default")])])])]))}}),re={class:"text-xl font-semibold"},ne={class:"space-y-2"},le={class:"flex justify-around p-2"},ce={class:"container mx-auto"},de={key:0,class:"flex justify-end flex-1 -mx-3"},ge={__name:"Welcome",props:{canLogin:{type:Boolean},canRegister:{type:Boolean}},setup(d){B(()=>{b()});const i=T([]),o=q({});async function y(){v(),localStorage.removeItem("taskListId"),await h()}async function b(){const s=localStorage.getItem("taskListId");s?w(s):await h()}function v(){i.splice(0,i.length)}async function w(s){v();try{const p=await axios.get("/list/"+s);o.value=p.data,o.value.tasks&&i.push(...o.value.tasks)}catch{console.log("creating a new one"),await h()}}async function h(){const s=await axios.post("/lists");o.value=s.data,localStorage.setItem("taskListId",s.data.id)}function z(s){i.push(s)}async function m(){window.isSecureContext&&navigator.clipboard&&(await navigator.clipboard.writeText("https://abbio.com/share/"+o.value.id),alert("Copied"))}return(s,p)=>(n(),g(L,null,[t(e(F),{title:"Welcome"}),t(oe,{"can-login":"canLogin","can-register":"canRegister"},{header:a(()=>[r("h1",re,"Reference: "+R(o.value.id),1),t(e(l),{variant:"outline",size:"sm",class:"ml-auto gap-1.5 text-sm",onClick:C(m,["prevent"])},{default:a(()=>[t(e(X),{class:"size-3.5"}),x(" Share ")]),_:1})]),default:a(()=>[o.value&&o.value.id?(n(),u(D,{key:0,"list-id":o.value.id,onTaskAdded:z},null,8,["list-id"])):k("",!0),r("div",ne,[(n(!0),g(L,null,A(i,I=>(n(),u(H,{key:I.id,task:I,onTaskUpdated:p[0]||(p[0]=ue=>w(o.value.id))},null,8,["task"]))),128))]),r("div",le,[t(e(l),{variant:"outline",onClick:C(y,["prevent"])},{default:a(()=>[t(e(E),{size:"14",class:"text-gray-900"})]),_:1})])]),_:1}),r("div",ce,[d.canLogin?(n(),g("nav",de,[s.$page.props.auth.user?(n(),u(e(f),{key:0,href:s.route("dashboard"),class:"rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white"},{default:a(()=>[x(" Dashboard ")]),_:1},8,["href"])):(n(),g(L,{key:1},[t(e(f),{href:s.route("login"),class:"rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white"},{default:a(()=>[x(" Log in ")]),_:1},8,["href"]),d.canRegister?(n(),u(e(f),{key:0,href:s.route("register"),class:"rounded-md px-3 py-2 text-black ring-1 ring-transparent transition hover:text-black/70 focus:outline-none focus-visible:ring-[#FF2D20] dark:text-white dark:hover:text-white/80 dark:focus-visible:ring-white"},{default:a(()=>[x(" Register ")]),_:1},8,["href"])):k("",!0)],64))])):k("",!0)])],64))}};export{ge as default};
